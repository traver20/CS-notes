# process and thread
每个进程有自己的虚拟地址空间，分为用户和内核空间
os运行在kernel，program运行在用户空间
内核空间有所有进程地址空间共享，program不能访问内核地址空间
内核保存进程控制信息
线程是进程执行体，有执行入口以及进程分配的内核栈和用户栈
进程：PCB 线程:TCB
LINUX:`task_struct`指定子进程和自己，共享地址空间和句柄表
线程是os调度与执行的基本单位
线程在自己的用户栈进行函数调用，但也要系统调用
os有中断向量表，linux： 0x80-系统调用派发(系统调用表)
cpu有中断控制器，执行到指定指令(syscall)，陷入内核
cpu分时间片，有时间片才能执行。并行
时间片用完后，时钟中断，线程调度
进程切换，还要切换页目录地址，进程地址空间资源变化，TLB缓冲失效
进程是程序的动态执行过程，进程间通信，IPC
虚拟内存，每个进程有一个从0开始的地址空间，以为自己独占着整个内存
一个执行流就是一个线程，对应一个pc，寄存器，堆栈，共享地址空间，全局变量，打开的文件
线程是并行的单位，同时执行一些指令，每个线程以为独占cpu，虚拟cpu

# thread and coroutine
线程和协程区别在于，一个由os内核调度，一个对os内核透明，由用户进行调度